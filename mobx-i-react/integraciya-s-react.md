# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å React

{% hint style="info" %}
–û—Ä–∏–≥–∏–Ω–∞–ª —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ—Å—Ç—É–ø–µ–Ω [–∑–¥–µ—Å—å](https://mobx.js.org/react-integration.html)
{% endhint %}

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```
import { observer } from "mobx-react-lite" // –∏–ª–∏ "mobx-react".

const MyComponent = observer(props => ReactElement)
```

–•–æ—Ç—è MobX —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç React, —á–∞—â–µ –≤—Å–µ–≥–æ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ. –í —Ä–∞–∑–¥–µ–ª–µ ¬´[–°—É—Ç—å MobX](../vvedenie/sut-mobx.md)¬ª –≤—ã —É–∂–µ –≤–∏–¥–µ–ª–∏ —Å–∞–º—É—é –≤–∞–∂–Ω—É—é —á–∞—Å—Ç—å —ç—Ç–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: HoC _`observer`_, –∫–æ—Ç–æ—Ä—ã–º  "–æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç React.

_`observer`_ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º –ø–∞–∫–µ—Ç–æ–º –ø—Ä–∏–≤—è–∑–æ–∫ React, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –≤—ã–±–∏—Ä–∞–µ—Ç–µ –≤–æ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏. –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã —Å–æ–±–∏—Ä–∞–µ–º—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –ª–µ–≥–∫–∏–π [–ø–∞–∫–µ—Ç _`mobx-react-lite`_](https://github.com/mobxjs/mobx/tree/main/packages/mobx-react-lite).

```
import React from "react"
import ReactDOM from "react-dom"
import { makeAutoObservable } from "mobx"
import { observer } from "mobx-react-lite"

class Timer {
    secondsPassed = 0

    constructor() {
        makeAutoObservable(this)
    }

    increaseTimer() {
        this.secondsPassed += 1
    }
}

const myTimer = new Timer()

// –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–±–µ—Ä–Ω—É—Ç—ã–π –≤ `observer` –±—É–¥–µ—Ç —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å
// –Ω–∞ –ª—é–±–æ–µ –±—É–¥—É—â–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞–±–ª—é–¥–∞–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ —Ä–∞–Ω–µ–µ.
const TimerView = observer(({ timer }) => <span>Seconds passed: {timer.secondsPassed}</span>)

ReactDOM.render(<TimerView timer={myTimer} />, document.body)

setInterval(() => {
    myTimer.increaseTimer()
}, 1000)
```

**–°–æ–≤–µ—Ç**: –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–∏–≥—Ä–∞—Ç—å —Å –ø—Ä–∏–º–µ—Ä–æ–º –≤—ã—à–µ –≤ [CodeSandbox](https://codesandbox.io/s/minimal-observer-p9ti4?file=/src/index.tsx).

HoC _`observer`_ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã React –Ω–∞ –ª—é–±—ã–µ _–Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã_, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤–æ –≤—Ä–µ–º—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –Ω–∞–±–ª—é–¥–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –≠—Ç–æ —Ç–∞–∫–∂–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –±—É–¥—É—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è, –µ—Å–ª–∏ –Ω–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –Ω–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ —Å—á–∏—Ç—ã–≤–∞–µ–º—ã–µ –∏–º, –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑–æ–≤—É—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ, —ç—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è MobX –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —É–∂–µ –∏–∑ –∫–æ—Ä–æ–±–∫–∏, –∏ –∏–º –æ–±—ã—á–Ω–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —á—Ä–µ–∑–º–µ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

–î–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è (_`observer`_) –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è, _–∫–∞–∫_ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã –¥–æ—Å—Ç–∏–≥–∞—é—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –≤–∞–∂–Ω–æ —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –∫ –Ω–∏–º –µ—Å—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ –∏ –æ–Ω–∏ —Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è. –ì–ª—É–±–æ–∫–æ–µ —á—Ç–µ–Ω–∏–µ –Ω–∞–±–ª—é–¥–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏ —Å–ª–æ–∂–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤—Ä–æ–¥–µ _`todos[0].author.displayName`_ —Ä–∞–±–æ—Ç–∞—é—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–º –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –¥—Ä—É–≥–∏–º–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±—ä—è–≤–ª–µ–Ω—ã —è–≤–Ω–æ –∏–ª–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –≤—ã—á–∏—Å–ª–µ–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ–ª–µ–∫—Ç–æ—Ä—ã).

### –õ–æ–∫–∞–ª—å–Ω–æ–µ –∏ –≤–Ω–µ—à–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

MobX –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–ª—å—à—É—é –≥–∏–±–∫–æ—Å—Ç—å –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –ø–æ—Å–∫–æ–ª—å–∫—É –¥–ª—è –Ω–µ–≥–æ –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏), –∫–∞–∫–∏–µ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã –º—ã —á–∏—Ç–∞–µ–º –∏–ª–∏ –æ—Ç–∫—É–¥–∞ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã –≤–æ–∑–Ω–∏–∫–ª–∏. –ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–µ –Ω–∏–∂–µ –ø—Ä–∏–º–µ—Ä—ã –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã —Ç–æ–≥–æ, –∫–∞–∫ –≤–Ω–µ—à–Ω–µ–µ –∏ –ª–æ–∫–∞–ª—å–Ω–æ–µ –Ω–∞–±–ª—é–¥–∞–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö, –æ–±–µ—Ä–Ω—É—Ç—ã—Ö –≤ _`observer`_.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ _`observer`_ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

{% tabs %}
{% tab title="–∏—Å–ø–æ–ª—å–∑—É—è props" %}
–ù–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞–∫ —Å–≤–æ–π—Å—Ç–≤–∞ (–∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ):

```
import { observer } from "mobx-react-lite"

const myTimer = new Timer() // —Å–º. –æ–±—ä—è–≤–ª–µ–Ω–∏–µ Timer –≤—ã—à–µ.

const TimerView = observer(({ timer }) => <span>Seconds passed: {timer.secondsPassed}</span>)

// –ü–µ—Ä–µ–¥–∞–µ–º myTimer –∫–∞–∫ –ø—Ä–æ–ø—Å.
ReactDOM.render(<TimerView timer={myTimer} />, document.body)
```
{% endtab %}

{% tab title="–∏—Å–ø–æ–ª—å–∑—É—è –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ" %}
```
/*
–ü–æ—Å–∫–æ–ª—å–∫—É –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è, –∫–∞–∫ –º—ã –ø–æ–ª—É—á–∏–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç, 
–º—ã –º–æ–∂–µ–º –Ω–∞–ø—Ä—è–º—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –æ–±–ª–∞—Å—Ç–µ–π 
(–≤ —Ç–æ–º —á–∏—Å–ª–µ –∏–∑ –∏–º–ø–æ—Ä—Ç–∞ –∏ —Ç.–¥.):
*/

const myTimer = new Timer() // —Å–º. –æ–±—ä—è–≤–ª–µ–Ω–∏–µ Timer –≤—ã—à–µ.

// –ü—Ä–æ–ø—Å–æ–≤ –Ω–µ—Ç, `myTimer` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –∏–∑ –∑–∞–º—ã–∫–∞–Ω–∏—è.
const TimerView = observer(() => <span>Seconds passed: {myTimer.secondsPassed}</span>)

ReactDOM.render(<TimerView />, document.body)

/*
–ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞–±–ª—é–¥–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ, 
–Ω–æ –ø–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ –æ–±—ã—á–Ω–æ –≤–≤–æ–¥–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–¥—É–ª—è, 
—ç—Ç–æ—Ç —à–∞–±–ª–æ–Ω –º–æ–∂–µ—Ç —É—Å–ª–æ–∂–Ω–∏—Ç—å –º–æ–¥—É–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ. 
–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –º—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React Context.
*/
```
{% endtab %}

{% tab title="–∏—Å–ø–æ–ª—å–∑—É—è React context" %}
[React Context](https://reactjs.org/docs/context.html) - –æ—Ç–ª–∏—á–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –æ–±–º–µ–Ω–∞ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ —Å–æ –≤—Å–µ–º –ø–æ–¥–¥–µ—Ä–µ–≤–æ–º:

```
import {observer} from 'mobx-react-lite'
import {createContext, useContext} from "react"

const TimerContext = createContext<Timer>()

const TimerView = observer(() => {
    // –ë–µ—Ä–µ–º —Ç–∞–π–º–µ—Ä –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
    const timer = useContext(TimerContext) // —Å–º. –æ–±—ä—è–≤–ª–µ–Ω–∏–µ Timer –≤—ã—à–µ.
    return (
        <span>Seconds passed: {timer.secondsPassed}</span>
    )
})

ReactDOM.render(
    <TimerContext.Provider value={new Timer()}>
        <TimerView />
    </TimerContext.Provider>,
    document.body
)
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –º—ã –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∑–∞–º–µ–Ω—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ _`value`_ _`Provider`_'a –¥—Ä—É–≥–∏–º. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ MobX –≤ —ç—Ç–æ–º –Ω–µ –¥–æ–ª–∂–Ω–æ –≤–æ–∑–Ω–∏–∫–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –ø–æ—Å–∫–æ–ª—å–∫—É –Ω–∞–±–ª—é–¥–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —Å–æ–≤–º–µ—Å—Ç–Ω–æ, –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ.
{% endtab %}
{% endtabs %}

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –Ω–∞–±–ª—é–¥–∞–µ–º–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ _`observer`_ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

–ü–æ—Å–∫–æ–ª—å–∫—É –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–º, –º–æ–≥—É—Ç –ø–æ—Å—Ç—É–ø–∞—Ç—å –æ—Ç–∫—É–¥–∞ —É–≥–æ–¥–Ω–æ, —Ç–æ –æ–Ω–∏ —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º. –û–ø—è—Ç—å –∂–µ, –¥–æ—Å—Ç—É–ø–Ω—ã —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã.

{% tabs %}
{% tab title="`useState` —Å –Ω–∞–±–ª—é–¥–∞–µ–º—ã–º –∫–ª–∞—Å—Å–æ–º" %}
–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–µ –Ω–∞–±–ª—é–¥–∞–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–π –∫–ª–∞—Å—Å —Å –ø–æ–º–æ—â—å—é _`useState`_. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –ø–æ—Å–∫–æ–ª—å–∫—É –º—ã –Ω–µ —Ö–æ—Ç–∏–º –∑–∞–º–µ–Ω—è—Ç—å —Å—Å—ã–ª–∫—É, –º—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—É—é _`useState`_:–ö–∞–∫ —É–∫–∞–∑—ã–≤–∞–ª–æ—Å—å —Ä–∞–Ω–µ–µ, –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤ –º–æ–∂–Ω–æ –Ω–∞–ø—Ä—è–º—É—é —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã. –î–ª—è —ç—Ç–æ–≥–æ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–±–ª—é–¥–∞–µ–º–æ–µ:

```
import { observer } from "mobx-react-lite"
import { useState } from "react"

const TimerView = observer(() => {
    const [timer] = useState(() => new Timer()) //—Å–º. –æ–±—ä—è–≤–ª–µ–Ω–∏–µ Timer –≤—ã—à–µ.
    return <span>Seconds passed: {timer.secondsPassed}</span>
})

ReactDOM.render(<TimerView />, document.body)

/*
–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–∞–π–º–µ—Ä, 
–∫–∞–∫ –º—ã —ç—Ç–æ –¥–µ–ª–∞–ª–∏ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ, 
useEffect –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–º –¥–ª—è React —Å–ø–æ—Å–æ–±–æ–º:
*/

useEffect(() => {
    const handle = setInterval(() => {
        timer.increaseTimer()
    }, 1000)
    return () => {
        clearInterval(handle)
    }
}, [timer])
```
{% endtab %}

{% tab title="`useState` —Å –ª–æ–∫–∞–ª—å–Ω—ã–º –Ω–∞–±–ª—é–¥–∞–µ–º—ã–º –æ–±—ä–µ–∫—Ç–æ–º" %}
–ö–∞–∫ —É–∫–∞–∑—ã–≤–∞–ª–æ—Å—å —Ä–∞–Ω–µ–µ, –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤ –º–æ–∂–Ω–æ –Ω–∞–ø—Ä—è–º—É—é —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã. –î–ª—è —ç—Ç–æ–≥–æ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å _`observable`_:

```
import { observer } from "mobx-react-lite"
import { observable } from "mobx"
import { useState } from "react"

const TimerView = observer(() => {
    const [timer] = useState(() =>
        observable({
            secondsPassed: 0,
            increaseTimer() {
                this.secondsPassed++
            }
        })
    )
    return <span>Seconds passed: {timer.secondsPassed}</span>
})

ReactDOM.render(<TimerView />, document.body)
```
{% endtab %}

{% tab title="—Ö—É–∫ `useLocalObservable`" %}
–ö–æ–º–±–∏–Ω–∞—Ü–∏—è _`const [store] = useState(() => observable ({/ * –Ω–∞–±–ª—é–¥–∞–µ–º–æ–µ —á—Ç–æ-—Ç–æ * /}))`_ –¥–æ–≤–æ–ª—å–Ω–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∞. –ß—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å —ç—Ç–æ—Ç —à–∞–±–ª–æ–Ω, –≤ –ø–∞–∫–µ—Ç–µ _`mobx-react-lite`_ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Ö—É–∫ _`useLocalObservable`_, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —É–ø—Ä–æ—Å—Ç–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π –ø—Ä–∏–º–µ—Ä –¥–æ:

```
import { observer, useLocalObservable } from "mobx-react-lite"
import { useState } from "react"

const TimerView = observer(() => {
    const timer = useLocalObservable(() => ({
        secondsPassed: 0,
        increaseTimer() {
            this.secondsPassed++
        }
    }))
    return <span>Seconds passed: {timer.secondsPassed}</span>
})

ReactDOM.render(<TimerView />, document.body)
```
{% endtab %}
{% endtabs %}

#### –í–æ–∑–º–æ–∂–Ω–æ, –≤–∞–º –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ–µ –Ω–∞–±–ª—é–¥–∞–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–û–±—ã—á–Ω–æ –º—ã –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Å—Ä–∞–∑—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å _`observable`_ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –ø–æ—Å–∫–æ–ª—å–∫—É —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ —ç—Ç–æ –º–æ–∂–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤–∞—Å –æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –º–µ—Ö–∞–Ω–∏–∑–º–∞ [React Suspense](https://reactjs.org/docs/concurrent-mode-suspense.html). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ _`observable`_, –∫–æ–≥–¥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–æ–º–µ–Ω–∞, —Å–æ–≤–º–µ—Å—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ (–≤–∫–ª—é—á–∞—è –¥–æ—á–µ—Ä–Ω–∏–µ). –ù–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–¥–∞—á–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∑–∞–∫–∞–∑—ã –∏ —Ç. –¥.

–°–æ—Å—Ç–æ—è–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (—Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏, –≤—ã–±–æ—Ä –∏ —Ç. –¥.), –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—É—á—à–µ –æ–±—Å–ª—É–∂–µ–Ω–æ [—Ö—É–∫–æ–º _`useState`_](https://reactjs.org/docs/hooks-state.html), –ø–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –≤–∞–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ React Suspense –≤ –±—É–¥—É—â–µ–º.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞–±–ª—é–¥–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ React —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ü–µ–Ω–Ω–µ–µ, –µ—Å–ª–∏ –æ–Ω–∏ 1) –≥–ª—É–±–æ–∫–∏–µ; 2) –∏–º–µ—é—Ç –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–ª–∏ 3) –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –¥—Ä—É–≥–∏–º–∏ _`observer`_ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.

### –í—Å–µ–≥–¥–∞ —Å—á–∏—Ç—ã–≤–∞–π—Ç–µ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã –≤–Ω—É—Ç—Ä–∏ _`observer`_ –∫–æ–º–ø–æ–Ω–µ—Ç–∞—Ö

–í–∞–º –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –∫–æ–≥–¥–∞ –∂–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å _`observer`_? –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∞–≤–∏–ª–æ: –ø—Ä–∏–º–µ–Ω—è–π—Ç–µ _`observer`_ –∫–æ –≤—Å–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º, –∫–æ—Ç–æ—Ä—ã–µ —á–∏—Ç–∞—é—Ç –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ.

_`observer`_ —É—Å–∏–ª–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —É–∫—Ä–∞—à–∞–µ–º—ã–π –≤–∞–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –Ω–æ –Ω–µ –≤—ã–∑—ã–≤–∞–µ–º—ã–µ –∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –¢–∞–∫ —á—Ç–æ –æ–±—ã—á–Ω–æ, –≤—Å–µ –≤–∞—à–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±–µ—Ä–Ω—É—Ç—ã –≤  _`observer`_. –ù–µ –≤–æ–ª–Ω—É–π—Ç–µ—Å—å, —ç—Ç–æ –Ω–µ —Å–Ω–∏–∂–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å. –ù–∞–ø—Ä–æ—Ç–∏–≤, –±–æ–ª—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –¥–µ–ª–∞–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏.

#### –°–æ–≤–µ—Ç: –∏–∑–≤–ª–µ–∫–∞–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –æ–±—ä–µ–∫—Ç–æ–≤ –∫–∞–∫ –º–æ–∂–Ω–æ –ø–æ–∑–∂–µ

_`observer`_ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ –≤—Å–µ–≥–æ, –µ—Å–ª–∏ –≤—ã –ø–µ—Ä–µ–¥–∞–µ—Ç–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã –∫–∞–∫ –º–æ–∂–Ω–æ –¥–æ–ª—å—à–µ –∏ —á–∏—Ç–∞–µ—Ç–µ –∏—Ö —Å–≤–æ–π—Å—Ç–≤–∞ —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ _`observer`_'–∞, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏—Ö –≤ DOM / –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, _`observer`_ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ —Ç–æ, —á—Ç–æ –≤—ã ¬´—Ä–∞–∑—ã–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç–µ¬ª –∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞.

–í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç _`TimerView`_ –Ω–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª –±—ã –Ω–∞ –±—É–¥—É—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ –±—ã –æ–Ω –±—ã–ª –æ–ø—Ä–µ–¥–µ–ª–µ–Ω —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º, –ø–æ—Ç–æ–º—É —á—Ç–æ _`.secondsPassed`_ —á–∏—Ç–∞–µ—Ç—Å—è –Ω–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞-–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è, –∞ —Å–Ω–∞—Ä—É–∂–∏ –∏, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è:

```
const TimerView = observer(({ secondsPassed }) => <span>Seconds passed: {secondsPassed}</span>)

React.render(<TimerView secondsPassed={myTimer.secondsPassed} />, document.body)
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —ç—Ç–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –¥—Ä—É–≥–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫, —Ç–∞–∫–∏—Ö –∫–∞–∫ _`react-redux`_, –≥–¥–µ —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π —è–≤–ª—è–µ—Ç—Å—è —Ä–∞–Ω–Ω–µ–µ —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∏ –ø–µ—Ä–µ–¥–∞—á–∞ –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ –¥–ª—è –ª—É—á—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ–º–æ–∏–∑–∞—Ü–∏–∏. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Å–æ–≤—Å–µ–º —è—Å–Ω–∞, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å —Ä–∞–∑–¥–µ–ª–æ–º ¬´[–†–∞–∑–±–∏—Ä–∞–µ–º —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å](../sovety-i-rekomendacii/razbiraem-reaktivnost.md)¬ª.

#### –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –Ω–µ _`observer`_ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –æ–±–µ—Ä–Ω—É—Ç—ã–µ –≤ _`observer`_, –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤–æ –≤—Ä–µ–º—è –∏—Ö —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞. –ü–æ—ç—Ç–æ–º—É, –µ—Å–ª–∏ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã / –º–∞—Å—Å–∏–≤—ã / –∫–æ–ª–ª–µ–∫—Ü–∏–∏ map –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –¥–æ—á–µ—Ä–Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º, –æ–Ω–∏ —Ç–∞–∫–∂–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±–µ—Ä–Ω—É—Ç—ã –≤ _`observer`_. –≠—Ç–æ —Ç–∞–∫–∂–µ –≤–µ—Ä–Ω–æ –¥–ª—è –ª—é–±—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ callback.

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —è–≤–ª—è–µ—Ç—Å—è _`observer`_'–æ–º (–ª–∏–±–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ —ç—Ç–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –ª–∏–±–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —ç—Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±—ã–ª –∞–≥–Ω–æ—Å—Ç–∏–∫–æ–º MobX), —Ç–æ –≤–∞–º –ø—Ä–∏–¥–µ—Ç—Å—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã –≤ –æ–±—ã—á–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è JavaScript, –ø—Ä–µ–∂–¥–µ —á–µ–º –ø–µ—Ä–µ–¥–∞—Ç—å –∏—Ö –¥–∞–ª—å—à–µ.

–ß—Ç–æ–±—ã –ø–æ–¥—Ä–æ–±–Ω–µ–µ —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ –≤—ã—à–µ–∏–∑–ª–æ–∂–µ–Ω–Ω–æ–º, –≤–æ–∑—å–º–µ–º —Å–ª–µ–¥—É—é—â–∏–π –ø—Ä–∏–º–µ—Ä –Ω–∞–±–ª—é–¥–∞–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ _`todo`_, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ _`TodoView`_ (–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è) –∏ –≤–æ–æ–±—Ä–∞–∂–∞–µ–º–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ _`GridRow`_, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–º –ø–∞—Ä—É —Å—Ç–æ–ª–±–µ—Ü/–∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–æ –Ω–µ —è–≤–ª—è—é—â–µ–≥–æ—Å—è _`observer`_'–æ–º:

```
class Todo {
    title = "test"
    done = true

    constructor() {
        makeAutoObservable(this)
    }
}

const TodoView = observer(({ todo }: { todo: Todo }) =>
   // –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: GridRow –Ω–µ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ todo.title / todo.done
   // –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–º (observer).
   return <GridRow data={todo} />

   // –ü–†–ê–í–ò–õ–¨–ù–û: –ø–æ–∑–≤–æ–ª—è–µ–º `TodoView` –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `todo`,
   // –∏ –ø–µ—Ä–µ–¥–∞—Ç—å –æ–±—ã—á–Ω—ã–µ JS –¥–∞–Ω–Ω—ã–µ –Ω–∏–∂–µ.
   return <GridRow data={{
       title: todo.title,
       done: todo.done
   }} />

   // –ü–†–ê–í–ò–õ–¨–ù–û: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `toJS` —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –ª—É—á—à–µ –≤—Å–µ —É–∫–∞–∑—ã–≤–∞—Ç—å —è–≤–Ω–æ.
   return <GridRow data={toJS(todo)} />
)
```

#### Callback-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–≥—É—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å \<Observer>

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Ç–æ—Ç –∂–µ –ø—Ä–∏–º–µ—Ä, –≥–¥–µ _`GridRow`_ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç callback _`onRender`_. –ü–æ—Å–∫–æ–ª—å–∫—É _`onRender`_ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é —Ü–∏–∫–ª–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ _`GridRow`_, –∞ –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ _`TodoView`_ (—Ö–æ—Ç—è –æ–Ω —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∏–º–µ–Ω–Ω–æ —Ç–∞–º), –º—ã –¥–æ–ª–∂–Ω—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ callback-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç _`observer`_-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç. –ò–ª–∏ –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è, –∏—Å–ø–æ–ª—å–∑—É—è [`<Observer />`](https://github.com/mobxjs/mobx-react#observer)

```
const TodoView = observer(({ todo }: { todo: Todo }) => {
    // –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: GridRow.onRender –Ω–µ –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ todo.title/todo.done
    // –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–º (observer).
    return <GridRow onRender={() => <td>{todo.title}</td>} />

    // –ü–†–ê–í–ò–õ–¨–ù–û: –æ–±–µ—Ä–Ω–∏—Ç–µ callback-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤ Observer, —á—Ç–æ–±—ã –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è.
    return <GridRow onRender={() => <Observer>{() => <td>{todo.title}</td>}</Observer>} />
})
```

### –°–æ–≤–µ—Ç—ã

<details>

<summary>–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ (SSR)</summary>

–ï—Å–ª–∏ _`observer`_ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞, —Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–∑–æ–≤–∏—Ç–µ –º–µ—Ç–æ–¥ _`enableStaticRendering(true)`_, —á—Ç–æ–±—ã _`observer`_ –Ω–µ –ø–æ–¥–ø–∏—Å—ã–≤–∞–ª—Å—è –Ω–∞ –∫–∞–∫–∏–µ-–ª–∏–±–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã, –∏ —á—Ç–æ–±—ã –Ω–µ –≤–æ–∑–Ω–∏–∫–∞–ª–æ –ø—Ä–æ–±–ª–µ–º —Å–æ —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞.

</details>

<details>

<summary>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: mobx-react –∏–ª–∏ mobx-react-lite?</summary>

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≤ —ç—Ç–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ _`mobx-react-lite`_. –ü–∞–∫–µ—Ç _`mobx-react`_ - —ç—Ç–æ —Å—Ç–∞—Ä—à–∏–π –±—Ä–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç _`mobx-react-lite`_ –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º. –û–Ω –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –µ—â–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ã—á–Ω–æ –±–æ–ª–µ–µ –Ω–µ –Ω—É–∂–Ω—ã –≤ –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ _`mobx-react`_:

1. –ü–æ–¥–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∞—Å—Å–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ React.
2. _`Provider`_ –∏ _`Inject`_. –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–µ–¥—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫ MobX React.createContext –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω.
3. –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ _`propTypes`_.

</details>

<details>

<summary>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: <em><code>observer</code></em> –∏–ª–∏ <em><code>React.memo</code></em>?</summary>

_`observer`_ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç _`memo`_, –ø–æ—ç—Ç–æ–º—É –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å _`observer`_-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ _`memo`_. _`memo`_ –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è, —Ç.–∫. –º—É—Ç–∞—Ü–∏–∏ (–≥–ª—É–±–æ–∫–æ) –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–ø—Å–∞ –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ –±—É–¥—É—Ç —É–ª–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–º, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.

</details>

<details>

<summary>–°–æ–≤–µ—Ç: <em><code>observer</code></em> –¥–ª—è –∫–ª–∞—Å—Å–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ React</summary>

–ö–∞–∫ —É–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª–∞—Å—Å–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø–∞–∫–µ—Ç _`mobx-react`_, –∞ –Ω–µ —á–µ—Ä–µ–∑ _`mobx-react-lite`_. –í–∫—Ä–∞—Ç—Ü–µ, –≤—ã –º–æ–∂–µ—Ç–µ –æ–±–µ—Ä–Ω—É—Ç—å –∫–ª–∞—Å—Å–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ _`observer`_ —Ç–∞–∫ –∂–µ, –∫–∞–∫ —ç—Ç–æ —Ä–∞–Ω–µ–µ –¥–µ–ª–∞–ª–æ—Å—å —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏:

```
import React from "React"

const TimerView = observer(
    class TimerView extends React.Component {
        render() {
            const { timer } = this.props
            return <span>Seconds passed: {timer.secondsPassed} </span>
        }
    }
)
```

–û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –ø–æ [mobx-react ](https://github.com/mobxjs/mobx-react#api-documentation)–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

</details>

<details>

<summary>–°–æ–≤–µ—Ç: –∫—Ä–∞—Å–∏–≤—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ React DevTools</summary>

[React DevTools](https://reactjs.org/blog/2019/08/15/new-react-devtools.html) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã—Ö –∏–º–µ–Ω–∞—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ:

```
export const MyComponent = observer(props => <div>hi</div>)
```

—Ç–æ —Ç–æ–≥–¥–∞ –≤ DevTools –Ω–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è.

&#x20;![](https://mobx.js.org/assets/devtools-noDisplayName.png)

–°–ª–µ–¥—É—é—â–∏–µ –ø–æ–¥—Ö–æ–¥—ã –º–æ–≥—É—Ç —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:

* –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ _`function`_ –≤–º–µ—Å—Ç–æ —Å—Ç—Ä–µ–ª–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. _`mobx-react`_ –≤—ã–≤–æ–¥–∏—Ç –∏–º—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–∑ –∏–º–µ–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏:

```
export const MyComponent = observer(function MyComponent(props) {
    return <div>hi</div>
})
```

* –¢—Ä–∞–Ω—Å–ø–∏–ª—è—Ç–æ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, Babel –∏–ª–∏ TypeScript) –≤—ã–≤–æ–¥—è—Ç –∏–º—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–∑ –∏–º–µ–Ω–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π:

```
const _MyComponent = props => <div>hi</div>
export const MyComponent = observer(_MyComponent)
```

* –°–Ω–æ–≤–∞ —Å–¥–µ–ª–∞–π—Ç–µ –≤—ã–≤–æ–¥ –∏–∑ –∏–º–µ–Ω–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –∏—Å–ø–æ–ª—å–∑—É—è —ç–∫—Å–ø–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

```
const MyComponent = props => <div>hi</div>
export default observer(MyComponent)
```

* \[**–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**] –Ø–≤–Ω–æ —É–∫–∞–∂–∏—Ç–µ _`displayName`_:

```
export const MyComponent = observer(props => <div>hi</div>)
MyComponent.displayName = "MyComponent"
```

–≠—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ React 16 –Ω–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ä–∞–∑–¥–µ–ª–∞. _`observer`_ –∏–∑ –ø–∞–∫–µ—Ç–∞ mobx-react –∏—Å–ø–æ–ª—å–∑—É–µ—Ç React.memo –∏ —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç—Å—è —Å —ç—Ç–æ–π –æ—à–∏–±–∫–æ–π: [https://github.com/facebook/react/issues/18026](https://github.com/facebook/react/issues/18026), –Ω–æ –æ–Ω–∞ –±—É–¥–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ React 17.

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å –∏–º–µ–Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

![](https://mobx.js.org/assets/devtools-withDisplayName.png)

</details>

<details>

<summary>{üöÄ} <strong>–°–æ–≤–µ—Ç:</strong> –ø—Ä–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–∏ <em><code>observer</code></em>'–∞ —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞, —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–∏–º–µ–Ω–∏—Ç–µ <em><code>observer</code></em></summary>

–ö–æ–≥–¥–∞ _`observer`_ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±—ä–µ–¥–∏–Ω–µ–Ω —Å –¥—Ä—É–≥–∏–º–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º–∏ –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ _`observer`_ —è–≤–ª—è–µ—Ç—Å—è —Å–∞–º—ã–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º (–ø—Ä–∏–º–µ–Ω—è–µ–º—ã–º –ø–µ—Ä–≤—ã–º) –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º; –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –æ–Ω –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –≤–æ–æ–±—â–µ.

</details>

<details>

<summary>{üöÄ} <strong>–°–æ–≤–µ—Ç: –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ –ø—Ä–æ–ø—Å–æ–≤</strong></summary>

–í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö, –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤–∞—à–∏—Ö –ª–æ–∫–∞–ª—å–Ω—ã—Ö –Ω–∞–±–ª—é–¥–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –º–æ–≥—É—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–ø—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—É—á–∞–µ—Ç –≤–∞—à –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. –û–¥–Ω–∞–∫–æ –Ω–∞–±–æ—Ä –ø—Ä–æ–ø—Å–æ–≤, –ø–æ–ª—É—á–∞–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º React, —Å–∞–º –ø–æ —Å–µ–±–µ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–±–ª—é–¥–∞–µ–º—ã–º, –ø–æ—ç—Ç–æ–º—É –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ–ø—Å–∞—Ö –Ω–µ –±—É–¥—É—Ç –æ—Ç—Ä–∞–∂–µ–Ω—ã –Ω–∏ –≤ –∫–∞–∫–∏—Ö –≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö. –í—ã –¥–æ–ª–∂–Ω—ã –≤—Ä—É—á–Ω—É—é –æ–±–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–µ –Ω–∞–±–ª—é–¥–∞–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, —á—Ç–æ–±—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

```
import { observer, useLocalObservable } from "mobx-react-lite"
import { useEffect } from "react"

const TimerView = observer(({ offset = 0 }) => {
    const timer = useLocalObservable(() => ({
        offset, // –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ–µ–∑ –∑–Ω–∞—á–µ–Ω–∏–µ offset
        secondsPassed: 0,
        increaseTimer() {
            this.secondsPassed++
        },
        get offsetTime() {
            return this.secondsPassed - this.offset // Not 'offset' from 'props'!
        }
    }))

    useEffect(() => {
        // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏—è offset –∏–∑ –ø—Ä–æ–ø—Å–æ–≤ –≤ –Ω–∞–±–ª—é–¥–∞–µ–º–æ–º 'timer'
        timer.offset = offset
    }, [offset])

    // –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç–∞–π–º–µ—Ä–∞, —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π.
    useEffect(() => {
        const handle = setInterval(timer.increaseTimer, 1000)
        return () => {
            clearInterval(handle)
        }
    }, [])

    return <span>Seconds passed: {timer.offsetTime}</span>
})

ReactDOM.render(<TimerView />, document.body)
```

–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –≤–∞–º —Ä–µ–¥–∫–æ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —ç—Ç–æ—Ç —à–∞–±–ª–æ–Ω, —Ç–∞–∫ –∫–∞–∫ return \<span>Seconds passed: {timer.secondsPassed - offset}\</span> - –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–µ, —Ö–æ—Ç—è –∏ –Ω–µ–º–Ω–æ–≥–æ –º–µ–Ω–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.

</details>

<details>

<summary>{üöÄ} <strong>–°–æ–≤–µ—Ç: useEffect –∏ observables</strong></summary>

_`useEffect`_ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –∏ –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∂–∏–∑–Ω–µ–Ω–Ω–æ–º—É —Ü–∏–∫–ª—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ React. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ _`useEffect`_ —Ç—Ä–µ–±—É–µ—Ç —É–∫–∞–∑–∞–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ù–æ –≤ MobX —ç—Ç–æ –Ω–µ –Ω—É–∂–Ω–æ, –ø–æ—Å–∫–æ–ª—å–∫—É –≤ MobX —É–∂–µ –µ—Å—Ç—å —Å–ø–æ—Å–æ–± –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —ç—Ñ—Ñ–µ–∫—Ç–∞ - _`autorun`_. –ö —Å—á–∞—Å—Ç—å—é, –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å _`autorun`_ –∏ –ø—Ä–∏–≤—è–∑–∞—Ç—å –µ–≥–æ –∫ –∂–∏–∑–Ω–µ–Ω–Ω–æ–º—É —Ü–∏–∫–ª—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é _`useEffect`_ –ø—Ä–æ—Å—Ç–æ:

```
import { observer, useLocalObservable, useAsObservableSource } from "mobx-react-lite"
import { useState } from "react"

const TimerView = observer(() => {
    const timer = useLocalObservable(() => ({
        secondsPassed: 0,
        increaseTimer() {
            this.secondsPassed++
        }
    }))

    // –≠—Ñ—Ñ–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –Ω–∞–±–ª—é–¥–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
    useEffect(
        () =>
            autorun(() => {
                if (timer.secondsPassed > 60) alert("Still there. It's a minute already?!!")
            }),
        []
    )

    // –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç–∞–π–º–µ—Ä–∞, —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π.
    useEffect(() => {
        const handle = setInterval(timer.increaseTimer, 1000)
        return () => {
            clearInterval(handle)
        }
    }, [])

    return <span>Seconds passed: {timer.secondsPassed}</span>
})

ReactDOM.render(<TimerView />, document.body)
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –º—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ä–µ–¥—Å—Ç–≤–æ —É–¥–∞–ª–µ–Ω–∏—è, —Å–æ–∑–¥–∞–Ω–Ω–æ–µ _`autorun`_'–æ–º, –∏–∑ –Ω–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏-—ç—Ñ—Ñ–µ–∫—Ç–∞. –≠—Ç–æ –≤–∞–∂–Ω–æ, –ø–æ—Å–∫–æ–ª—å–∫—É –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –±—É–¥–µ—Ç –æ—á–∏—â–µ–Ω –ø–æ—Å–ª–µ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞!

–ú–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ–±—ã—á–Ω–æ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ –Ω–µ–Ω–∞–±–ª—é–¥–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ _`autorun`_. –¢–æ–ª—å–∫–æ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –≤ –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ß—Ç–æ–±—ã –≤–∞—à –ª–∏–Ω—Ç–µ—Ä –±—ã–ª –¥–æ–≤–æ–ª–µ–Ω, –≤—ã –º–æ–∂–µ—Ç–µ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å _`timer`_ (–≤ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä–µ) –∫–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å. –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ –Ω–µ –∏–º–µ–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞, –ø–æ—Å–∫–æ–ª—å–∫—É —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è.

–ï—Å–ª–∏ –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–∏–µ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã –¥–æ–ª–∂–Ω—ã –∑–∞–ø—É—Å–∫–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ _`reaction`_ –≤–º–µ—Å—Ç–æ _`autorun`_ (–∫—Ä–æ–º–µ —Ç–æ–≥–æ, —à–∞–±–ª–æ–Ω –æ—Å—Ç–∞–µ—Ç—Å—è –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–º).

</details>

#### –ö–∞–∫ —è –º–æ–≥—É –µ—â–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã React?

–î–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å —Ä–∞–∑–¥–µ–ª–æ–º ["–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è React" {üöÄ}](optimizacii-react.md).

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

–ü–æ–º–æ–≥–∏—Ç–µ! –ú–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è...

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –Ω–µ –∑–∞–±—ã–ª–∏ –ø—Ä–æ _`observer`_ (–¥–∞, —ç—Ç–æ —Å–∞–º–∞—è —á–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞).
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–±—ä–µ–∫—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Å–æ–±–∏—Ä–∞–µ—Ç–µ—Å—å —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–∞–±–ª—é–¥–∞–µ–º. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∞–∫–∏–µ —É—Ç–∏–ª–∏—Ç—ã, –∫–∞–∫ _`isObservable`_, _`isObservableProp`_, –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç–æ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∂—É—Ä–Ω–∞–ª—ã –∫–æ–Ω—Å–æ–ª–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–∞—Ö –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –∏–ª–∏ –æ—à–∏–±–æ–∫.
4. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ —Ä–∞–±–æ—Ç—ã —Ç—Ä–µ–∫–∏–Ω–≥–∞ –≤ —Ü–µ–ª–æ–º. –û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å —Ä–∞–∑–¥–µ–ª–æ–º ¬´[–†–∞–∑–±–∏—Ä–∞–µ–º —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å](../sovety-i-rekomendacii/razbiraem-reaktivnost.md)¬ª.
5. –û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –æ–±—â–∏–º–∏ –æ—à–∏–±–∫–∞–º–∏, –æ–ø–∏—Å–∞–Ω–Ω—ã–º–∏ –≤—ã—à–µ—É.
6. [–ù–∞—Å—Ç—Ä–æ–π—Ç–µ](../tonkaya-nastroika/konfigurirovanie.md) MobX, —á—Ç–æ–±—ã –æ–Ω –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–ª –≤–∞—Å –æ –Ω–µ–Ω–∞–¥–ª–µ–∂–∞—â–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä—è–ª –∂—É—Ä–Ω–∞–ª—ã –∫–æ–Ω—Å–æ–ª–∏.
7. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ [—Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É](../sovety-i-rekomendacii/analiziruem-reaktivnost.md), —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—ã –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç–µ—Å—å –Ω–∞ –Ω—É–∂–Ω—ã–µ –≤–µ—â–∏. –¢–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–æ–æ–±—â–µ –¥–µ–ª–∞–µ—Ç MobX —Å –ø–æ–º–æ—â—å—é –ø–∞–∫–µ—Ç–∞ [spy](../sovety-i-rekomendacii/analiziruem-reaktivnost.md) / [mobx-logger](https://github.com/winterbe/mobx-logger).
